<div class="modal-gubernamental">

  <div class="modal-title">
    <span>{{title}}</span>
  </div>

  <form nz-form [formGroup]="form" class="gubernamental-form">

    <!-- Mensaje de error general -->
    <div *ngIf="errorMessages['general']" class="error-message-general">
      <i nz-icon nzType="close-circle" nzTheme="fill"></i>
      {{ errorMessages['general'] }}
    </div>

    <!-- SECTOR usando FormFieldComponent -->
    <app-form-field
      label="SECTOR"
      placeholder="INGRESE SECTOR"
      formControlName="sector"
      [required]="true"
      [maxLength]="100"
      [control]="form.get('sector')"
    ></app-form-field>

    <!-- FECHAS (dos columnas como en tu imagen) -->
    <div class="form-row">
      <div class="form-field half">
        <label class="field-label">
          FECHA INICIO VIGENCIA<span class="required">*</span>
        </label>

        <nz-date-picker 
          formControlName="fechaInicioVigencia" 
          nzFormat="dd/MM/yyyy" 
          nzPlaceHolder="DÍA/MES/AÑO"
          [ngClass]="{ 'input-error': form.get('fechaInicioVigencia')?.invalid && form.get('fechaInicioVigencia')?.touched }">
        </nz-date-picker>

        <div class="error-message" *ngIf="form.get('fechaInicioVigencia')?.invalid && form.get('fechaInicioVigencia')?.touched">
          <i nz-icon nzType="close-circle" nzTheme="fill"></i>
          <span *ngIf="form.get('fechaInicioVigencia')?.errors?.['required']">ESTE CAMPO ES OBLIGATORIO</span>
        </div>
      </div>

      <div class="form-field half">
        <label class="field-label">
          FECHA FIN VIGENCIA
        </label>

        <nz-date-picker 
          formControlName="fechaFinVigencia" 
          nzFormat="dd/MM/yyyy"
          nzPlaceHolder="DÍA/MES/AÑO">
        </nz-date-picker>
      </div>
    </div>

    <!-- Botones -->
    <div class="form-actions">
      <button 
        nz-button
        class="cancelar"
        nzType="default" 
        (click)="cancelar()"
        [disabled]="loading || confirmCancel"
      >
        <i nz-icon nzType="close" class="icon-cancelar" style="margin-right: 4px;"></i>
        CANCELAR
      </button>
      <button 
        *ngIf="modo !== 'consultar'"
        nz-button 
        nzType="primary" 
        (click)="guardar()"
        [disabled]="confirmCancel"
        [nzLoading]="loading"
        style="background-color: #0d5a4a; border-color: #0d5a4a;"
      >
        <i nz-icon nzType="check" class="icon-guardar" style="margin-right: 4px;"></i>
        GUARDAR
      </button>
    </div>

    <div class="cancel-form-confirm" *ngIf="confirmCancel">
      <div class="cancel-form-confirm-title">
        <span>CANCELACIÓN</span>
      </div>
      <div class="cancel-form-confirm-content">
        <span>SE PERDERÁN TODOS LOS DATOS INGRESADOS.</span>
        <span>¿DESEA CANCELAR LA OPERACIÓN?</span>
        <div class="buttons">
          <button 
            nz-button
            (click)="confirmCancel = false"
          >
            NO
          </button>
          <button 
            nz-button 
            (click)="modal.close(null)"
            style="background-color: #0d5a4a; border-color: #0d5a4a; color: #fff;"
          >
            SÍ, CANCELAR
          </button>
        </div>
      </div>
    </div>
  </form>
</div>